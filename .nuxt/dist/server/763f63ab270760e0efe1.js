exports.ids=[1],exports.modules={21:function(t,n,e){var content=e(24);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var r=e(8).default;t.exports.__inject__=function(t){r("aef20222",content,!0,t)}},22:function(t,n,e){var content=e(26);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var r=e(8).default;t.exports.__inject__=function(t){r("5f1da188",content,!0,t)}},23:function(t,n,e){"use strict";e.r(n);var r=e(21),o=e.n(r);for(var d in r)"default"!==d&&function(t){e.d(n,t,(function(){return r[t]}))}(d);n.default=o.a},24:function(t,n,e){(n=e(7)(!1)).push([t.i,".handpan-shape[data-v-69d7f218]{position:relative;width:200px;height:200px;border-radius:200px;background:#ccc}.handpan-shape.is-bottom[data-v-69d7f218]{margin-left:25px;width:150px;height:150px;border-radius:150px;background:#666}.ding[data-v-69d7f218],.gu[data-v-69d7f218]{position:absolute;left:50%;top:50%}.ding[data-v-69d7f218],.gu[data-v-69d7f218],.note span[data-v-69d7f218]{border:1px solid #333;background:#ddd;display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:40px;margin-left:-20px;margin-top:-20px}.gu[data-v-69d7f218]{background:#333}.note[data-v-69d7f218]{position:absolute;top:90px;padding-left:175px}.is-bottom .note[data-v-69d7f218]{top:65px;padding-left:125px}sub[data-v-69d7f218]{margin-bottom:-10px;font-size:11px}.handpan-shape .highlight[data-v-69d7f218]{background:rgba(0,255,0,.50196)!important}.handpan-shape .isroot[data-v-69d7f218]{background:rgba(0,255,204,.50196)!important}.bad .highlight[data-v-69d7f218]{background:rgba(255,0,0,.50196)!important}.note[data-v-69d7f218]:first-child{transform:rotate(var(--deg))}.note:first-child span[data-v-69d7f218]{transform:rotate(calc(var(--deg)*-1))}.note[data-v-69d7f218]:nth-child(2){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)))}.note:nth-child(2) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes))*-1))}.note[data-v-69d7f218]:nth-child(3){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)))}.note:nth-child(3) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes))*-1))}.note[data-v-69d7f218]:nth-child(4){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*2))}.note:nth-child(4) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*2)*-1))}.note[data-v-69d7f218]:nth-child(5){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*2))}.note:nth-child(5) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*2)*-1))}.note[data-v-69d7f218]:nth-child(6){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*3))}.note:nth-child(6) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*3)*-1))}.note[data-v-69d7f218]:nth-child(7){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*3))}.note:nth-child(7) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*3)*-1))}.note[data-v-69d7f218]:nth-child(8){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*4))}.note:nth-child(8) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*4)*-1))}.note[data-v-69d7f218]:nth-child(9){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*4))}.note:nth-child(9) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*4)*-1))}.note[data-v-69d7f218]:nth-child(10){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*5))}.note:nth-child(10) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*5)*-1))}.note[data-v-69d7f218]:nth-child(11){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*5))}.note:nth-child(11) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*5)*-1))}.note[data-v-69d7f218]:nth-child(12){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*6))}.note:nth-child(12) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*6)*-1))}.note[data-v-69d7f218]:nth-child(13){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*6))}.note:nth-child(13) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*6)*-1))}.note[data-v-69d7f218]:nth-child(14){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*7))}.note:nth-child(14) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) + 1turn/var(--nbnotes)*7)*-1))}.note[data-v-69d7f218]:nth-child(15){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*7))}.note:nth-child(15) span[data-v-69d7f218]{transform:rotate(calc((var(--deg) - 1turn/var(--nbnotes)*7)*-1))}",""]),t.exports=n},25:function(t,n,e){"use strict";e.r(n);var r=e(22),o=e.n(r);for(var d in r)"default"!==d&&function(t){e.d(n,t,(function(){return r[t]}))}(d);n.default=o.a},26:function(t,n,e){(n=e(7)(!1)).push([t.i,".chord-type[data-v-2eac94fb],.panscales[data-v-2eac94fb]{display:flex;flex-wrap:wrap;margin-top:8px}.chord-type-name[data-v-2eac94fb]{min-width:28px;padding-right:8px;text-align:right}.chord[data-v-2eac94fb],.panscale[data-v-2eac94fb]{border:1px solid #333;border-radius:3px;padding:0 5px;cursor:pointer;min-width:32px;text-align:center;margin-left:4px}.chord.highlight[data-v-2eac94fb]{background:rgba(0,255,204,.50196)!important}",""]),t.exports=n},27:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r);const d=["C","C♯","D♭","D","D♯","E♭","E","F","F♯","G♭","G","G♯","A♭","A","A♯","B♭","B"],l=[{val:"1/ 5 7m 1 2 3m 4 5",name:"Amara 8"},{val:"1/ 5 7m 1 2 3m 4 5 7m",name:"Amara 9"},{val:"1/ 3 5 7 1 3 T 5 7",name:"Aegean 9"},{val:"1/ 4 5 6m 7m 1 2m 3m 4",name:"Aeolian 9"},{val:"1/ 3m 4 7m 1 3m 4 5 7m",name:"Chao Guo 9"},{val:"1/ 3m 5 6m 7m 1 2 3m",name:"Equinox 8"},{val:"1/ 3m 5 6m 7m 1 2 3m 5",name:"Equinox 9"},{val:"1/ 5 6m 7 1 2 3m 4 5",name:"Hijaz (Sam) 9"},{val:"1/ 4 T 6 7m 1 2m 3m 4",name:"Hijaz (Mercury) 9"},{val:"1/ 4 T 6 7m 1 2m 3m 3",name:"Hijaz Kar (Mercury) 9"},{val:"1/ 5 6m 1 2 3m 4 5",name:"Insen 8"},{val:"1/ 5 6m 1 2 3m 4 5 6m",name:"Insen 9"},{val:"1/ 5 6m 7m 1 2 3m 5 7m",name:"Integral (Mercury) 9"},{val:"1/ 5 6m 7m 1 2 3m 5 6m",name:"Integral (Sam) 9"},{val:"1/ 4 5 6 7m 1 2 3m 4",name:"Jibuk 9"},{val:"1/ 4 5 6m 1 2 3m 4",name:"Minor 8"},{val:"1/ 4 5 6m 1 2 3m 4 5",name:"Minor 9"},{val:"1/ 5 6m 7m 1 2 3m 4",name:"Kurd 8"},{val:"1/ 5 6m 7m 1 2 3m 4 5",name:"Kurd 9"},{val:"1/ 3m 5 6 7m 1 2 3m",name:"La Sirena 8"},{val:"1/ 3m 5 6 7m 1 2 3m 5",name:"La Sirena 9"},{val:"1/ 3m 5 7m 1 2 3m 5",name:"Magic Voyage 8"},{val:"1/ 3m 5 7m 1 2 3m 5 7m",name:"Magic Voyage 9"},{val:"1/ 4 5 6 7 1 2 3",name:"Major 8"},{val:"1/ 4 5 6 7 1 2 3 5",name:"Major 9"},{val:"1/ 3 4 5 7 1 3 4 5",name:"Melog Selisir 9"},{val:"1/ 3m 5 6m 1 2 3m 5",name:"Mystic (Mercury) 8"},{val:"1/ 5 6m 1 2 3m 4 5 7m",name:"Mystic (Sam) 9"},{val:"1/ 5 6 7m 1 2 3 5",name:"Mixolydian 8"},{val:"1/ 5 6 7m 1 2 3 5 6",name:"Mixolydian 9"},{val:"1/ 3 4 5 6 1 3 4 5",name:"Oxalis 9"},{val:"1/ 4 5 6m 1 3m 4 5 6m",name:"Pygmy (Mercury) 9"},{val:"1/ 2 3m 5 7m 1 2 3m 5",name:"Pygmy (Sam) 9"},{val:"1/ 5 7m 1 2m 3 4 5 7m",name:"Raga Desh 9"},{val:"1/ 4 5 6m 7 1 2 3m 5",name:"Romanian Hijaz 9"},{val:"1/ 4 5 6m 1 2m 4 5 6m",name:"Akebono 9"},{val:"1/ 5 7 1 2 3 4 5 1",name:"Ysha Savita 9"},{val:"1/ 5 6m 1 3 4 5 6m 1",name:"Onoleo 9"},{val:"1/ 5 7 1 2 3 T 5 7",name:"Lydian"}],c=[{nom:"Phrygian",ecarts:["1","2m","3m","5","6m","7m"]},{nom:"Minor/Aeolian",ecarts:["1","2","3m","5","6m","7m"]},{nom:"Dorian",ecarts:["1","2","3m","5","6","7m"]},{nom:"Mixolydian",ecarts:["1","2","3","5","6","7m"]},{nom:"Major",ecarts:["1","2","3","5","6","7"]}],m=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],v=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],h=["1","2m","2","3m","3","4","T","5","6m","6","7m","7"],f=[{type:"maj",chords:[{val:"1 3 5",name:"Major",abbr:""}]},{type:"min",chords:[{val:"1 3m 5",name:"Minor",abbr:"m"}]},{type:"7th",chords:[{val:"1 3 5 7m",name:"Dominant seventh",abbr:"⁷"},{val:"1 3 5 7M",name:"Major seventh",abbr:"M⁷"},{val:"1 3m 5 7m",name:"Minor seventh",abbr:"m⁷"}]},{type:"sus",chords:[{val:"1 4 5",name:"Suspended 4",abbr:"<sup>sus4</sup>"}]},{type:"bad",chords:[{val:"1 2m",name:"second minor",abbr:"m²"},{val:"1 T",name:"tritone",abbr:"<sub>tt</sub>"},{val:"1 3m T",name:"Diminished",abbr:"<sub>dim</sub>"}]}];function x(t,n){const e=-1!==m.indexOf(t)?m.indexOf(t):v.indexOf(t);return-1!==e?v[(e+h.indexOf(n)+12)%12]:null}function _(t,n){const e=-1!==m.indexOf(t)?m.indexOf(t):v.indexOf(t);return-1!==e?m[(e+h.indexOf(n)+12)%12]:null}class y{constructor(){this.absNotationUser="",this.absNotationClean="",this.relNotation="",this.ding="",this.notesTop=[],this.notesBottom=[],this.notesAll=[],this.chords=[],this.panScales=[]}loadFromRelNotation(t,n){this.ding=t,this.relNotation=n;const e=n.split("/");if(e.length<2)return;const r=e[1].trim().split(" ").map(t=>_(this.ding,t));this.absNotationClean=r.join(" "),this.absNotationUser=r.join(" ").replace(/♯/g,"#").replace(/♭/g,"b"),this.genNotes(r)}loadFromAbsNotation(t){this.absNotationUser=t;const n=this.absNotationUser.replace(/#/g,"♯").replace(/b/g,"♭").replace(/ {1,}/g," "),e=n.split("/");if(e.length<2)return;this.ding=e[0].trim(),this.absNotationClean=n,this.relNotation=function(t,n){let e=m.indexOf(t);-1===e&&(e=v.indexOf(t));const r=[];for(let i=0;i<12;i++)r.push(h[(12-e+i)%12]);let o=n+" ";for(let i=0;i<12;i++)o=o.replace(new RegExp(m[i]+"([^♯♭])","g"),r[i]+"$1"),o=o.replace(new RegExp(v[i]+"([^♯♭])","g"),r[i]+"$1");return o}(this.ding,n);const r=e[1].trim().split(" ");this.genNotes(r)}genNotes(t){let n,e=3;this.notesAll=t.map((t,r)=>{const o=t.replace(/\(/g,"").replace(/\)/g,""),l=d.indexOf(o);return n||(n=l),l<n&&e++,n=l,{key:r,octave:e,name:o,isBottom:"("===t[0]}}),this.notesTop=this.notesAll.filter(t=>!t.isBottom),this.notesBottom=this.notesAll.filter(t=>t.isBottom)}genChords(){const t=[...new Set([...this.absNotationClean.matchAll(/[A-G][♯♭]?/g)].map(t=>t[0]))];this.chords=(t=>f.map(n=>{const e=[];return t.forEach(r=>{n.chords.forEach(n=>{const o=n.val.split(" ");o.every(n=>t.indexOf(_(r,n))>=0||t.indexOf(x(r,n))>=0)&&e.push({root:r,notes:o,label:r+n.abbr})})}),{type:n.type,chords:e}}))(t)}genPanScales(){var t;this.panScales=(t=this,l.map(n=>{const e=new y;return e.loadFromRelNotation(t.ding,n.val),{name:n.name,notesAll:e.notesAll}}).filter(n=>n.notesAll.every(n=>t.notesAll.some(t=>{const e=v.indexOf(t.name),r=-1!==e?m[e]:t.name;return n.octave===t.octave&&n.name===r}))))}}var N=o.a.extend({props:{handpan:y,selectedChord:Object},computed:{nbNotesTop(){return{"--nbnotes":this.handpan.notesTop.length}},nbNotesBottom(){return{"--nbnotes":this.handpan.notesBottom.length}}},methods:{isHighlighted(t){var n;return-1!==(null===(n=this.selectedChord)||void 0===n?void 0:n.noteNames.indexOf(t))}}}),A=e(1);var C=Object(A.a)(N,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticClass:"handpan-diagram",class:{bad:"bad"===t.selectedChord.type}},[t._ssrNode('<div class="handpan-shape is-top" data-v-69d7f218><div'+t._ssrClass("ding",{highlight:t.isHighlighted(t.handpan.ding),isroot:t.handpan.ding===t.selectedChord.root})+" data-v-69d7f218>"+t._ssrEscape("\n            "+t._s(t.handpan.ding))+'<sub data-v-69d7f218>3</sub></div> <div class="notes"'+t._ssrStyle(null,t.nbNotesTop,null)+" data-v-69d7f218>"+t._ssrList(t.handpan.notesTop,(function(n){return'<div class="note" data-v-69d7f218><span'+t._ssrClass(null,{highlight:t.isHighlighted(n.name),isroot:n.name===t.selectedChord.root})+" data-v-69d7f218>"+t._ssrEscape(t._s(n.name))+"<sub data-v-69d7f218>"+t._ssrEscape(t._s(n.octave))+"</sub></span></div>"}))+"</div></div> "+(t.handpan.notesBottom.length?'<div class="handpan-shape is-bottom" data-v-69d7f218><div class="gu" data-v-69d7f218></div> <div class="notes"'+t._ssrStyle(null,t.nbNotesBottom,null)+" data-v-69d7f218>"+t._ssrList(t.handpan.notesBottom,(function(n){return'<div class="note" data-v-69d7f218><span'+t._ssrClass(null,{highlight:t.isHighlighted(n.name),isroot:n.name===t.selectedChord.root})+" data-v-69d7f218>"+t._ssrEscape(t._s(n.name))+"<sub data-v-69d7f218>"+t._ssrEscape(t._s(n.octave))+"</sub></span></div>"}))+"</div></div>":"\x3c!----\x3e"))])}),[],!1,(function(t){var n=e(23);n.__inject__&&n.__inject__(t)}),"69d7f218","d4caccc0").exports,M=o.a.extend({components:{HandpanDiagram:C},data:()=>({displayedHandpanIndex:0,handpans:[],inputAbsNotation:"",inputDing:"",inputRelNotation:"",notes:[],abs:"",scales:c,notesAll:d,chords:{},selectedChord:{label:"",root:"",type:"",noteNames:[]},selectedChordNoteNames:[]}),created(){const t=new y;t.loadFromAbsNotation("D/ A C D E F G A C"),t.genChords(),t.genPanScales(),this.handpans.push(t),this.displayHandpan()},computed:{displayedHandpan(){return this.handpans[this.displayedHandpanIndex]}},methods:{relChanged(){const t=this.handpans[this.displayedHandpanIndex];t.loadFromAbsNotation(this.inputAbsNotation),t.genChords(),t.genPanScales(),this.displayHandpan()},displayHandpan(){const t=this.handpans[this.displayedHandpanIndex];this.inputDing=t.ding,this.inputRelNotation=t.relNotation,this.inputAbsNotation=t.absNotationUser},selectChord(t,n){this.selectedChord={label:n.label,root:n.root,type:t.type,noteNames:[...n.notes.map(t=>_(n.root,t)),...n.notes.map(t=>x(n.root,t))]}},unselectChord(){this.selectedChord={label:"",type:"",root:"",noteNames:[]}}}});var H=Object(A.a)(M,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t._ssrNode('<h1 data-v-2eac94fb>Handpaner</h1> <div data-v-2eac94fb><h3 data-v-2eac94fb>Absolute scale</h3>\n        Notes\n        <br data-v-2eac94fb> <input size="40"'+t._ssrAttr("value",t.inputAbsNotation)+" data-v-2eac94fb></div> "),t._ssrNode("<div data-v-2eac94fb>","</div>",[t._ssrNode("<h3 data-v-2eac94fb>Relative scale</h3>\n        Ding\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.inputDing,expression:"inputDing"}],attrs:{disabled:""},on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputDing=n.target.multiple?e:e[0]}}},t._l(t.notesAll,(function(n){return e("option",{key:n},[t._v(t._s(n))])})),0),t._ssrNode(' <br data-v-2eac94fb>Relative scale:\n        <input size="40" readonly="readonly"'+t._ssrAttr("value",t.inputRelNotation)+" data-v-2eac94fb> <br data-v-2eac94fb>")],2),t._ssrNode(' <div data-v-2eac94fb><h3 data-v-2eac94fb>Handpan scales</h3> <div class="panscales" data-v-2eac94fb>'+t._ssrList(t.displayedHandpan.panScales,(function(n){return'<div class="panscale" data-v-2eac94fb>'+t._ssrEscape("\n                "+t._s(n.name)+"\n            ")+"</div>"}))+"</div></div> <div data-v-2eac94fb><h3 data-v-2eac94fb>Chords</h3> "+t._ssrList(t.displayedHandpan.chords,(function(n){return'<div class="chord-type" data-v-2eac94fb><div class="chord-type-name" data-v-2eac94fb>'+t._ssrEscape(t._s(n.type))+"</div> "+t._ssrList(n.chords,(function(n){return"<div"+t._ssrClass("chord",{highlight:n.label===t.selectedChord.label})+" data-v-2eac94fb>"+t._s(n.label)+"</div>"}))+"</div>"}))+"</div> "),t._ssrNode("<div data-v-2eac94fb>","</div>",[t._ssrNode("<h3 data-v-2eac94fb>Diagram</h3> "),e("HandpanDiagram",{attrs:{handpan:t.displayedHandpan,selectedChord:t.selectedChord}})],2)],2)}),[],!1,(function(t){var n=e(25);n.__inject__&&n.__inject__(t)}),"2eac94fb","13ce4098");n.default=H.exports}};