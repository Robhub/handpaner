(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(t,n,e){"use strict";e.d(n,"a",(function(){return m}));e(36),e(21),e(10),e(35),e(173);var o=e(174),r=(e(47),e(48),e(207)),c=e(208),l=e(80),d=e(171),m=function(){function t(){Object(r.a)(this,t),this.absNotationUser="",this.absNotationClean="",this.relNotation="",this.ding="",this.dingOctave=3,this.dingAnimated=!1,this.notesTop=[],this.notesBottom=[],this.notesAll=[],this.chords=[],this.panScales=[],this.scales=[],this.id=(new Date).getTime()}return Object(c.a)(t,[{key:"loadFromRelNotation",value:function(t,n,e){var o=this;this.ding=t,this.dingOctave=e,this.relNotation=n;var r=n.split("/");if(!(r.length<2)){var c=r[1].trim().split(" ").filter(Boolean).map((function(t){var n="("===t[0],e=t.replace(/\(|\)/g,""),r=-1!==l.e.indexOf(o.ding)?Object(d.j)(o.ding,e):Object(d.i)(o.ding,e);return n?"("+r+")":r})),m=3===e?this.ding:this.ding+e;this.absNotationClean=m+"/ "+c.join(" "),this.absNotationUser=m.replace(/♯/g,"#").replace(/♭/g,"b")+"/ "+c.join(" ").replace(/♯/g,"#").replace(/♭/g,"b"),this.genNotes(this.ding,c,e)}}},{key:"loadFromAbsNotation",value:function(t){this.absNotationUser=t;var n=this.absNotationUser.replace(/#/g,"♯").replace(/b/g,"♭").replace(/ {1,}/g," "),e=n.split("/");if(!(e.length<2)){var o=Object(d.k)(e[0].trim());this.ding=o.noteName,this.dingOctave=o.octave?o.octave:3,this.absNotationClean=n,this.relNotation=Object(d.b)(this.ding,n);var r=e[1].trim().split(" ").filter(Boolean);this.genNotes(this.ding,r,this.dingOctave)}}},{key:"genNotes",value:function(t,n,e){var o=e,r=l.c.indexOf(t);this.notesAll=n.map((function(t,n){var e=t.replace(/\(/g,"").replace(/\)/g,""),c=Object(d.k)(e),m=c.noteName,v=c.octave,h=l.c.indexOf(m);if(-1===h)throw new Error("Unknown note: "+m);return r||(r=h),v?o=v:h<r&&o++,r=h,{key:n,octave:o,name:m,isBottom:"("===t[0],animated:!1}})),this.notesTop=this.notesAll.filter((function(t){return!t.isBottom})),this.notesBottom=this.notesAll.filter((function(t){return t.isBottom}))}},{key:"getUniqueNotes",value:function(){return Object(o.a)(new Set(Array.from(this.absNotationClean.matchAll(/[A-G][♯♭]?/g)).map((function(t){return t[0]}))))}},{key:"genChords",value:function(){this.chords=Object(d.e)(this.getUniqueNotes())}},{key:"genPanScales",value:function(){this.panScales=Object(d.f)([this])}}]),t}()},171:function(t,n,e){"use strict";e.d(n,"k",(function(){return A})),e.d(n,"c",(function(){return O})),e.d(n,"d",(function(){return B})),e.d(n,"i",(function(){return D})),e.d(n,"j",(function(){return C})),e.d(n,"a",(function(){return E})),e.d(n,"b",(function(){return w})),e.d(n,"e",(function(){return S})),e.d(n,"f",(function(){return x})),e.d(n,"g",(function(){return k})),e.d(n,"h",(function(){return j}));e(87),e(24),e(65);var o,r=e(60),c=(e(21),e(10),e(35),e(173),e(174)),l=(e(18),e(181),e(48),e(123),e(47),e(205)),d=e.n(l),data=e(80);!function(t){t.TRAD="trad",t.FOLK="folk",t.IRISH="irish",t.PAGAN="pagan"}(o||(o={}));var m=[{category:o.TRAD,name:"Danse de l’ours",notes:["G4","A4","B4","C5","D5","E5"],recording:"E5@0,A4@280,A4@560,E5@1120,A4@1400,A4@1680,B4@2100,C5@2240,C5@2520,B4@2800,C5@3080,D5@3360,D5@3640,C5@3920,D5@4200,E5@4480,A4@4760,E5@5040,A4@5320,E5@5600,A4@5880,A4@6160,B4@6580,C5@6720,C5@7000,B4@7280,A4@7420,G4@7560,A4@7840,A4@8400,A4@8960,C5@9240,A4@9520,C5@9800,B4@10080,G4@10360,G4@10640,A4@11200,C5@11480,A4@11760,C5@12040,D5@12320,C5@13160,D5@13300,E5@13440,E5@13720,D5@14000,D5@14280,C5@14560,C5@14840,B4@15120,A4@15680,B4@15820,C5@15960,B4@16240,G4@16520,A4@16800,A4@17360,end@17920"},{category:o.TRAD,name:"Levan Polka",notes:["E4","G4","A4","B4","C5","D5","E5"]},{category:o.TRAD,name:"Zelda",notes:["E4","F4","A4","B4","C5","D5","E5","F5"]},{category:o.TRAD,name:"Las Fatmas",notes:["E4","F4","G4","A4","B4","C5","D5","E5","F5"]},{category:o.TRAD,name:"Jan Mijne Man",notes:["G4","A4","B4","C5","D5","E5"]},{category:o.TRAD,name:"Valse à Ollu",notes:["G4","A4","B4","C5","D5","E5","F5","G5"]},{category:o.TRAD,name:"St Patrick An Dro",notes:["G4","A4","B4","C5","D5","E5","G5"]},{category:o.TRAD,name:"O Son Do Ar",notes:["C4","D4","E4","F4","G4","A4","B4","C5","D5"]},{category:o.TRAD,name:"Tzadir katamar",notes:["E4","G♯4","A4","B4","C5","D5","E5","F5"]},{category:o.TRAD,name:"C’est sur le pont de Lyon",notes:["E4","G4","A4","B4","C5","D5"]},{category:o.TRAD,name:"La p’tite fée",notes:["A3","B3","C4","D4","D♯4","E4","F♯4","G4","A4","B4","C5"]},{category:o.FOLK,name:"Greensleeves",notes:["A3","B3","C4","C♯4","D4","E4","F4","G4","A4","B4","C5"]},{category:o.IRISH,name:"The Kesh Jig",notes:["D4","F♯4","G4","A4","B4","D5","E5","G5","A5","B5"]},{category:o.IRISH,name:"Cooney’s reel",notes:["D4","E4","F♯4","G4","A4","B4","C♯5","D5","E5","F♯5","G5","A5"],recording:"D4@0,E4@280,B4@420,B4@560,A4@700,B4@840,E4@1120,B4@1260,B4@1400,A4@1680,B4@1820,D5@1960,B4@2100,A4@2240,G4@2380,F♯4@2520,D4@2660,A4@2800,D4@2940,B4@3080,D4@3220,A4@3360,D4@3500,F♯4@3640,D4@3780,A4@3920,D4@4060,D5@4200,A4@4340,F♯4@4480,D4@4620,E4@4760,B4@4900,B4@5040,A4@5180,B4@5320,E4@5600,B4@5740,B4@5880,A4@6160,B4@6300,D5@6440,E5@6580,F♯5@6720,G5@6860,A5@7000,F♯5@7140,E5@7280,C♯5@7420,D5@7560,B4@7700,A4@7840,F♯4@7980,D4@8120,E4@8260,F♯4@8400,D4@8540,E4@8680,G5@8960,F♯5@9100,E5@9240,B4@9380,B4@9520,E5@9800,F♯5@9940,G5@10080,E5@10220,E5@10360,B4@10500,B4@10640,G5@10920,E5@11060,D5@11200,B4@11340,A4@11480,F♯4@11760,A4@11900,D4@12040,A4@12180,F♯4@12320,A4@12460,A4@12600,F♯4@12880,A4@13020,D5@13160,E5@13300,F♯5@13440,G5@13580,E5@13720,B4@13860,B4@14000,E5@14280,B4@14420,G5@14560,B4@14700,E5@14840,B4@14980,B4@15120,D5@15400,E5@15540,F♯5@15680,G5@15820,A5@15960,F♯5@16100,E5@16240,C♯5@16380,D5@16520,B4@16660,A4@16800,F♯4@16940,D4@17080,E4@17220,F♯4@17360,D4@17500,E4@17640,end@17920"},{category:o.IRISH,name:"Lannigan’s Ball",notes:["D4","E4","F♯4","G4","A4","B4","C5","C♯5","D5","E5","F♯5","G5","A5"]},{category:o.IRISH,name:"Father O’Flynn",notes:["D4","F♯4","G4","A4","B4","C♯5","D5","E5","F♯5","G5","A5"]},{category:o.IRISH,name:"Star of the County Down",notes:["E4","G4","A4","B4","C5","D5","E5","G5"]},{category:o.IRISH,name:"Drowsy Maggie",notes:["D4","E4","F♯4","A4","B4","C♯5","D5","E5","F♯5","G5","A5"]},{category:o.IRISH,name:"Killavil jig",notes:["D4","E4","F♯4","A4","B4","D5","E5","F♯5","G5"]},{category:o.IRISH,name:"Musical priest",notes:["F♯4","A4","B4","C♯5","D5","E5","F♯5","A5","B5"]},{category:o.IRISH,name:"Trip to Pakistan",notes:["D4","E4","F♯4","G4","A4","B4","C5"]},{category:o.PAGAN,name:"Fairy tale",notes:["B3","D4","E4","F♯4","G4","A4","B4","C5","D5","E5","F♯5","G5"]}],v=e(182),h=e(170),f=e(115);function y(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}function A(t){var n=/([A-G][♯♭]?)([0-9]?)/.exec(t);if(null===n)throw new Error("Cannot read note: "+n);var e=n[1],o=n[2];return o?{noteName:e,octave:parseInt(o,10)}:{noteName:e}}function O(t){var n=data.e.indexOf(t),e=data.d.indexOf(t);return-1!==n?data.d[n]:data.e[e]}function B(t){var n=data.d.indexOf(t);return-1!==n?data.e[n]:t}function D(t,n){var e=-1!==data.e.indexOf(t)?data.e.indexOf(t):data.d.indexOf(t);if(-1===e)throw new Error("Unknown note: "+t);var o=data.b.indexOf(n);if(-1===o)throw new Error("Unknown interval: "+n);return data.d[(e+o+12)%12]}function C(t,n){var e=-1!==data.e.indexOf(t)?data.e.indexOf(t):data.d.indexOf(t);if(-1===e)throw new Error("Unknown note: "+t);var o=data.b.indexOf(n);if(-1===o)throw new Error("Unknown interval: "+n);return data.e[(e+o+12)%12]}function E(t,n){var e=data.e.indexOf(B(t)),o=data.e.indexOf(B(n));return data.b[(12+o-e)%12]}function w(t,n){var e=data.e.indexOf(t);-1===e&&(e=data.d.indexOf(t));for(var o=[],i=0;i<12;i++)o.push(data.b[(12-e+i)%12]);for(var r=n+" ",c=0;c<12;c++)r=(r=r.replace(new RegExp(data.e[c]+"[0-9]?([^♯♭])","g"),o[c]+"$1")).replace(new RegExp(data.d[c]+"[0-9]?([^♯♭])","g"),o[c]+"$1");return r.trim()}var S=function(t){return data.a.map((function(n){var e=[];return t.forEach((function(o){n.chords.forEach((function(n){var r=n.val.split(" ");r.every((function(n){return t.indexOf(C(o,n))>=0||t.indexOf(D(o,n))>=0}))&&e.push({root:o,notes:r,label:o+n.abbr})}))})),{type:n.type,chords:e}}))},x=function(t){var n=t.flatMap((function(t){return v.a.map((function(n){var e=new h.a;return e.loadFromRelNotation(t.ding,n.relativeNotation,t.dingOctave),{ding:t.ding,name:n.name,notesAll:e.notesAll}}))}));return d.a.uniqBy(n,(function(p){return p.ding+p.name})).filter((function(n){return n.notesAll.every((function(n){return t.flatMap((function(t){return t.notesAll})).some((function(t){var e=data.d.indexOf(t.name),o=-1!==e?data.e[e]:t.name;return n.octave===t.octave&&n.name===o}))}))}))},k=function(t,n){var e=t.flatMap((function(t){return[t.ding].concat(Object(c.a)(t.notesAll.map((function(t){return t.name}))))})),o=Object(c.a)(new Set(e));return o.flatMap((function(r){return data.g.filter((function(t){return!(!n.showBebop&&"bebop"===t.category)})).map((function(t){return N(N({},t),{},{absSharp:t.ecarts.map((function(t){return C(r,t)}))})})).filter((function(t){return t.absSharp.every((function(t){var n=O(t);return-1!==o.indexOf(t)||-1!==o.indexOf(n)}))})).filter((function(t){var n=O(r);return e.filter((function(t){return t===r||t===n})).length>=2})).map((function(n){return{id:r+" "+n.name,tonic:r,noteNames:n.absSharp,name:n.name,totalNotes:t.flatMap((function(t){return[t.ding].concat(Object(c.a)(t.notesAll.map((function(t){return t.name}))))})).filter((function(t){var e=O(t);return-1!==n.absSharp.indexOf(t)||-1!==n.absSharp.indexOf(e)})).length,special:n.special?C(r,n.special):null}}))}))},j=function(t){var n=t.flatMap((function(t){return[t.ding+t.dingOctave].concat(Object(c.a)(t.notesAll.map((function(t){return t.name+t.octave}))))})),e=Object(c.a)(new Set(n));return m.flatMap((function(t){if(!t.notes)return[];for(var n=[],o=function(i){var o=G(t.notes,i);if(o.every((function(t){return e.indexOf(t)>=0}))){var r=null;if(t.recording){var c=Object(f.parseRecord)(t.recording);r=Object(f.stringifyRecord)(c.record.map((function(t){return{note:F(t.note,i),time:t.time}})),c.endTime)}n.push({name:t.name,recording:r,notes:o,transpo:i})}},i=-30;i<20;i++)o(i);return n}))},G=function(t,n){return 0===n?t:t.map((function(t){return F(t,n)}))},F=function(t,n){if(0===n)return t;var e=A(t),o=e.noteName,r=e.octave;if(!r)throw new Error("Octave missing: "+t);for(var c=B(o),l=data.e.indexOf(c)+n,d=r;l<0;)l+=12,d--;for(;l>=12;)l-=12,d++;return data.e[l]+d}},182:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o=[{relativeNotation:"1/ 4 5 6m 1 2m 4 5 6m",name:"Akebono 8+1"},{relativeNotation:"1/ 5 7m 1 2 3m 4 5",name:"Amara 7+1"},{relativeNotation:"1/ 5 7m 1 2 3m 4 5 7m",name:"Amara 8+1"},{relativeNotation:"1/ 5 6 1 2 3 4 5 1",name:"Anahata 8+1"},{relativeNotation:"1/ 5 7m 1 2 3m 4 5 1",name:"Amara Triple 8+1"},{relativeNotation:"1/ 3 5 7 1 3 T 5 7",name:"Aegean 8+1"},{relativeNotation:"1/ 4 5 6m 7m 1 2m 3m 4",name:"Aeolian 8+1"},{relativeNotation:"1/ 5 6m 7m 1 3m 5 6m 7m",name:"Arboreal 8+1"},{relativeNotation:"1/ (2) (3) 4 5 6 7 1 2 3 (4) 5 6 (7) (1) (2) (3)",name:"Ashakiran 9+7+1"},{relativeNotation:"1/ 3m 4 5 6m 7m 1 3m 4",name:"Avalon 8+1"},{relativeNotation:"1/ 3m 4 5 6m 7m 1 3m 4 5",name:"Avalon 9+1"},{relativeNotation:"1/ 4 6m 7m 7 1 3m 4 6m",name:"Blues 8+1"},{relativeNotation:"1/ 3m 4 7m 1 3m 4 5 7m",name:"Chao Guo 8+1"},{relativeNotation:"1/ 3m 5 7m 1 2 3m 4 5",name:"DeepShello 8+1"},{relativeNotation:"1/ 3m 5 6m 7m 1 2 3m",name:"Equinox 7+1"},{relativeNotation:"1/ 3m 5 6m 7m 1 2 3m 5",name:"Equinox 8+1"},{relativeNotation:"1/ (2) (3m) (4) 5 6m 7 1 2 3m 4 5 (7) 1 (2) (3m)",name:"Harmonic Lora 9+6+1"},{relativeNotation:"1/ 4 5 6m 7m 1 2m 3 4",name:"Harmonic minor 8+1"},{relativeNotation:"1/ 3m 4 5 6m 1 3m 4 5",name:"High Avalon 8+1"},{relativeNotation:"1/ 5 6m 7 1 2 3m 4 5",name:"Hijaz 8+1"},{relativeNotation:"1/ 4 T 6 7m 1 2m 3m 4",name:"Hijaz (Mercury) 8+1"},{relativeNotation:"1/ 4 T 6 7m 1 2m 3m 3",name:"Hijaz Kar (Mercury) 8+1"},{relativeNotation:"1/ 5 6m 7m 1 2m 3 4 5",name:"Hijaz Major 8+1"},{relativeNotation:"1/ 5 6m 1 2 3m 4 5",name:"Insen 7+1"},{relativeNotation:"1/ 5 6m 1 2 3m 4 5 6m",name:"Insen 8+1"},{relativeNotation:"1/ 5 6m 1 2 3m 4 5 1",name:"Ursa minor 8+1"},{relativeNotation:"1/ 5 6m 7m 1 2 3m 5 7m",name:"Integral (Mercury) 8+1"},{relativeNotation:"1/ 5 6m 7m 1 2 3m 5 6m",name:"Integral (Sam) 8+1"},{relativeNotation:"1/ 4 5 6 7m 1 2 3m 4",name:"Jibuk 8+1"},{relativeNotation:"1/ 4 5 6m 1 2 3m 4",name:"Minor 7+1"},{relativeNotation:"1/ 4 5 6m 1 2 3m 4 5",name:"Minor 8+1"},{relativeNotation:"1/ 5 6m 7m 1 2 3m 4",name:"Kurd 7+1"},{relativeNotation:"1/ 5 6m 7m 1 2 3m 4 5",name:"Kurd 8+1"},{relativeNotation:"1/ 5 6 7m 1 2 3m 4 5",name:"Dorian 8+1"},{relativeNotation:"1/ (2) (3m) 4 5 6m (7m) 7 1 2 3m 4 5 (6m) 1",name:"Kamaji 10+1+4"},{relativeNotation:"1/ 3m 5 6 7m 1 2 3m",name:"La Sirena 7+1"},{relativeNotation:"1/ 3m 5 6 7m 1 2 3m 5",name:"La Sirena 8+1"},{relativeNotation:"1/ 3m 5 6m 1 2 3m 5",name:"Low Mystic 7+1"},{relativeNotation:"1/ 2 3m 5 7m 1 2 3m 5",name:"Low Pygmy 8+1"},{relativeNotation:"1/ 5 7 1 2 3 T 5 7",name:"Lydian 8+1"},{relativeNotation:"1/ 3m 5 7m 1 2 3m 5",name:"Magic Voyage 7+1"},{relativeNotation:"1/ 3m 5 7m 1 2 3m 5 7m",name:"Magic Voyage 8+1"},{relativeNotation:"1/ 4 5 6 7 1 2 3",name:"Major 7+1"},{relativeNotation:"1/ 4 5 6 7 1 2 3 5",name:"Major 8+1"},{relativeNotation:"1/ 3 4 5 7 1 3 4 5",name:"Melog Selisir 8+1"},{relativeNotation:"1/ 5 6m 1 2 3m 4 5 7m",name:"Mystic (Sam) 8+1"},{relativeNotation:"1/ 5 6m 1 2 3m 5 7m",name:"Mystic (Hagane) 7+1"},{relativeNotation:"1/ 5 6 7m 1 2 3 5",name:"Mixolydian (-4) 7+1"},{relativeNotation:"1/ 5 6 7m 1 2 3 5 6",name:"Mixolydian (-4) 8+1"},{relativeNotation:"1/ 5 6 1 2 3 4 5 6",name:"Mixolydian (-7m) 8+1"},{relativeNotation:"1/ 5 6m 1 3 4 5 6m 1",name:"Onoleo 8+1"},{relativeNotation:"1/ 3 4 5 6 1 3 4 5",name:"Oxalis 8+1"},{relativeNotation:"1/ 3 5 7 1 2 3 5",name:"Paradise (v1) 7+1"},{relativeNotation:"1/ 3 4 5 1 2 3 5",name:"Paradise (v2) 7+1"},{relativeNotation:"1/ 4 5 6m 1 3m 4 5 6m",name:"Pygmy 8+1"},{relativeNotation:"1/ 4 5 6 1 2 4 5 6",name:"Pentatonic Major 8+1"},{relativeNotation:"1/ 5 7m 1 3 4 5 7m 1",name:"Raga Desh 8+1"},{relativeNotation:"1/ 4 5 6m 7 1 2 3m 5",name:"Romanian Hijaz 8+1"},{relativeNotation:"1/ 3m 5 6m 7 1 2 3m 5",name:"Romanian Mineur harmonique 8+1"},{relativeNotation:"1/ 5 7 1 2 3 4 5 1",name:"Ysha Savita 8+1"}]},183:function(t,n,e){var content=e(210);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(34).default)("4224375a",content,!0,{sourceMap:!1})},184:function(t,n,e){var content=e(212);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(34).default)("adc000c0",content,!0,{sourceMap:!1})},189:function(t,n,e){"use strict";e(21),e(37),e(24),e(35),e(36),e(28),e(29),e(10),e(18),e(178),e(47);var o=e(1),r=(e(199),e(171)),c=o.a.extend({props:{noteName:String,noteOctave:Number},computed:{showRelative:function(){return this.$store.state.selection.showRelative},relativeNoteBase:function(){return this.$store.state.selection.relativeNoteBase},relative:function(){return Object(r.a)(this.relativeNoteBase,this.noteName)}}}),l=(e(209),e(14)),d=Object(l.a)(c,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.showRelative?[t._v("\n        "+t._s(t.relative)+"\n    ")]:[t._v("\n        "+t._s(t.noteName)),e("sub",[t._v(t._s(t.noteOctave))])]],2)}),[],!1,null,"553d52cb",null).exports,data=e(80),m=e(170);function v(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==e.return||e.return()}finally{if(l)throw r}}}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var f,y,N,A,O=!1,B=[];function D(path,t){var n=new XMLHttpRequest;n.open("GET",path),n.responseType="arraybuffer",n.onload=function(){var e=n.response;f.decodeAudioData(e,t)},n.send()}f=new AudioContext;var C,E=v(data.f);try{var w=function(){var t,n=C.value,e=v(n.samplesDispo);try{var o=function(){var e=t.value;D("/"+n.folder+"/"+e.replace("♯","s")+".flac",(function(data){return n.buffer[e]=data}))};for(e.s();!(t=e.n()).done;)o()}catch(t){e.e(t)}finally{e.f()}};for(E.s();!(C=E.n()).done;)w()}catch(t){E.e(t)}finally{E.f()}D("/gu/D2.flac",(function(data){return N=data})),D("/clac/clac.flac",(function(data){return y=data}));var S=o.a.extend({components:{HandpanNoteInside:d},props:{handpan:m.a,selectedChord:Object,selectedPanScale:Object,selectedScale:Object},computed:{nbNotesTop:function(){return{"--nbnotes":this.handpan.notesTop.length}},nbNotesBottom:function(){return{"--nbnotes":this.handpan.notesBottom.length}}},mounted:function(){var t=this;this.$root.$on("playRecord",(function(n){var e=n.record,o=n.endTime;t.beginPlayback(e,o)})),this.$root.$on("stopPlayback",(function(){clearTimeout(A),B.forEach((function(t){return clearTimeout(t)}))}))},destroyed:function(){this.$root.$off("playRecord"),this.$root.$off("stopPlayback")},methods:{beginPlayback:function(t,n){var e=this;B=[],t.forEach((function(t){B.push(setTimeout((function(){e.playNoteByFullname(t.note)}),t.time))})),A=setTimeout((function(){e.beginPlayback(t,n)}),n)},playClacMouse:function(){O||this.playClac()},playClacTouch:function(){this.playClac()},playClac:function(){this.$store.state.options.enableClac&&this.playSample(y)},playGuMouse:function(t){t.stopPropagation(),O||this.playGu()},playGuTouch:function(t){t.stopPropagation(),this.playGu()},playGu:function(){this.playSample(N)},playNoteTouch:function(t,n){t.stopPropagation(),O=!0,this.playNote(n)},playNoteMouse:function(t,n){t.stopPropagation(),O||this.playNote(n)},playNoteByFullname:function(t){var n=null;(n=this.handpan.ding+this.handpan.dingOctave===t?{name:this.handpan.ding,octave:this.handpan.dingOctave}:this.handpan.notesAll.find((function(n){return n.name+n.octave===t})))?this.playNote(n):console.log("note not found in the pan",t)},playNote:function(t){var n=this,e=t.name,o=t.octave,c=Object(r.d)(e),l=this.$store.getters["options/getChosenSamplesBankIndex"],d=data.f[l].buffer[c+o];d&&(this.playSample(d),this.$store.dispatch("recorder/playNote",c+o),void 0===t.animated?(this.handpan.dingAnimated=!1,setTimeout((function(){n.handpan.dingAnimated=!0}),0)):(t.animated=!1,setTimeout((function(){t.animated=!0}),0)))},playSample:function(t){var n=f.createGain();n.gain.value=this.$store.getters["options/getVolume"];var source=f.createBufferSource();source.buffer=t,n.connect(f.destination),source.connect(n),source.start(0)},isSpecial:function(t){var n,e,o=Object(r.c)(t);return t===(null===(n=this.selectedScale)||void 0===n?void 0:n.special)||o===(null===(e=this.selectedScale)||void 0===e?void 0:e.special)},isRoot:function(t){var n,e,o,c,l,d,m=Object(r.c)(t),v=t===(null===(n=this.selectedChord)||void 0===n?void 0:n.root)||m===(null===(e=this.selectedChord)||void 0===e?void 0:e.root),h=t===(null===(o=this.selectedScale)||void 0===o?void 0:o.tonic)||m===(null===(c=this.selectedScale)||void 0===c?void 0:c.tonic),f=t===(null===(l=this.selectedPanScale)||void 0===l?void 0:l.ding)||m===(null===(d=this.selectedPanScale)||void 0===d?void 0:d.ding);return v||h||f},isNoteInModel:function(t,n){var e=!1,o=Object(r.c)(t);return this.selectedPanScale&&this.selectedPanScale.notesAll&&(e=this.selectedPanScale.notesAll.some((function(n){return n.name===t||n.name===o}))),e},isHighlighted:function(t,n){if(-1!==this.$store.state.selection.highlightedNotes.indexOf(t+n))return!0;var e=Object(r.c)(t),o=!1,c=!1,l=!1;return this.selectedChord&&(l=-1!==this.selectedChord.noteNames.indexOf(t)||-1!==this.selectedChord.noteNames.indexOf(e)),this.selectedScale&&this.selectedScale.noteNames&&(o=-1!==this.selectedScale.noteNames.indexOf(t)||-1!==this.selectedScale.noteNames.indexOf(e)),this.selectedPanScale&&this.selectedPanScale.notesAll&&(c=this.selectedPanScale.notesAll.some((function(o){return o.octave===n&&(o.name===t||o.name===e)}))),l||o||c}}}),x=(e(211),Object(l.a)(S,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"handpan-diagram",class:{bad:"bad"===t.selectedChord.type,hasBottom:t.handpan.notesBottom.length>0}},[e("div",{staticClass:"handpan-shape is-top",on:{mousedown:function(n){return t.playClacMouse()},touchstart:function(n){return t.playClacTouch()}}},[e("div",{staticClass:"ding",class:{highlight:t.isHighlighted(t.handpan.ding,t.handpan.dingOctave),highlightplus:t.isRoot(t.handpan.ding),highlightless:t.isNoteInModel(t.handpan.ding,t.handpan.dingOctave)},on:{mousedown:function(n){return t.playNoteMouse(n,{name:t.handpan.ding,octave:t.handpan.dingOctave})},touchstart:function(n){return t.playNoteTouch(n,{name:t.handpan.ding,octave:t.handpan.dingOctave})}}},[e("HandpanNoteInside",{staticClass:"inside",attrs:{noteName:t.handpan.ding,noteOctave:t.handpan.dingOctave}}),t._v(" "),e("div",{staticClass:"animation",class:{animated:t.handpan.dingAnimated},on:{animationend:function(n){t.handpan.dingAnimated=!1}}})],1),t._v(" "),e("div",{staticClass:"notes",style:t.nbNotesTop},t._l(t.handpan.notesTop,(function(n){return e("div",{key:n.key,staticClass:"note"},[e("span",{class:{highlight:t.isHighlighted(n.name,n.octave),special:t.isSpecial(n.name),highlightplus:t.isHighlighted(n.name,n.octave)&&t.isRoot(n.name),highlightless:t.isNoteInModel(n.name,n.octave)},on:{mousedown:function(e){return t.playNoteMouse(e,n)},touchstart:function(e){return t.playNoteTouch(e,n)}}},[e("HandpanNoteInside",{staticClass:"inside",attrs:{noteName:n.name,noteOctave:n.octave}}),t._v(" "),e("div",{staticClass:"animation",class:{animated:n.animated},on:{animationend:function(t){n.animated=!1}}})],1)])})),0)]),t._v(" "),t.handpan.notesBottom.length?e("div",{staticClass:"handpan-shape is-bottom",on:{mousedown:function(n){return t.playClacMouse()},touchstart:function(n){return t.playClacTouch()}}},[e("div",{staticClass:"gu",on:{mousedown:function(n){return t.playGuMouse(n)},touchstart:function(n){return t.playGuTouch(n)}}}),t._v(" "),e("div",{staticClass:"notes",style:t.nbNotesBottom},t._l(t.handpan.notesBottom,(function(n){return e("div",{key:n.key,staticClass:"note"},[e("span",{class:{highlight:t.isHighlighted(n.name,n.octave),special:t.isSpecial(n.name),highlightplus:t.isHighlighted(n.name,n.octave)&&t.isRoot(n.name),highlightless:t.isNoteInModel(n.name,n.octave)},on:{mousedown:function(e){return t.playNoteMouse(e,n)},touchstart:function(e){return t.playNoteTouch(e,n)}}},[e("HandpanNoteInside",{staticClass:"inside",attrs:{noteName:n.name,noteOctave:n.octave}}),t._v(" "),e("div",{staticClass:"animation",class:{animated:n.animated},on:{animationend:function(t){n.animated=!1}}})],1)])})),0)]):t._e()])}),[],!1,null,"3b256859",null));n.a=x.exports},209:function(t,n,e){"use strict";e(183)},210:function(t,n,e){(n=e(33)(!1)).push([t.i,"sub[data-v-553d52cb]{margin-bottom:-10px;font-size:.7em}",""]),t.exports=n},211:function(t,n,e){"use strict";e(184)},212:function(t,n,e){(n=e(33)(!1)).push([t.i,".handpan-shape[data-v-3b256859]{position:relative;background:radial-gradient(#fdfdfd,#606060)}.handpan-shape.is-bottom[data-v-3b256859]{background:#666}.ding[data-v-3b256859],.gu[data-v-3b256859]{position:absolute;left:50%;top:50%}.ding[data-v-3b256859],.gu[data-v-3b256859],.note span[data-v-3b256859]{border:1px solid grey;font-size:14px;border-radius:999px;pointer-events:all;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ding[data-v-3b256859],.gu[data-v-3b256859],.inside[data-v-3b256859],.note span[data-v-3b256859]{display:flex;align-items:center;justify-content:center}.inside[data-v-3b256859]{background:radial-gradient(#ccc,#a9a9a9);border:1px solid grey;position:absolute}.ding .inside[data-v-3b256859]{background:radial-gradient(#fcfcfc,#a9a9a9)}.ding[data-v-3b256859]{background:#e6e6e6}.note span[data-v-3b256859]{background:#aaa}.gu[data-v-3b256859]{background:#333}.note[data-v-3b256859]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;position:absolute}.handpan-shape .highlightless[data-v-3b256859]{background:rgba(255,255,0,.50196)!important}.handpan-shape .highlight[data-v-3b256859]{background:rgba(0,255,0,.50196)!important}.handpan-shape .highlightplus[data-v-3b256859]{background:rgba(0,255,204,.50196)!important}.handpan-shape .special[data-v-3b256859]{border-color:#f0f!important}.bad .highlight[data-v-3b256859]{background:rgba(255,0,0,.50196)!important}@-webkit-keyframes noteanim-data-v-3b256859{0%{background:hsla(0,0%,100%,0);width:0;height:0}10%{background:hsla(0,0%,100%,.62745);width:60px;height:60px}to{background:hsla(0,0%,100%,0)}}@keyframes noteanim-data-v-3b256859{0%{background:hsla(0,0%,100%,0);width:0;height:0}10%{background:hsla(0,0%,100%,.62745);width:60px;height:60px}to{background:hsla(0,0%,100%,0)}}.animation[data-v-3b256859]{position:absolute;border-radius:100px;display:block}.animated[data-v-3b256859]{-webkit-animation:noteanim-data-v-3b256859 .2s;animation:noteanim-data-v-3b256859 .2s}.note[data-v-3b256859]:first-child{transform:rotate(var(--deg))}.note:first-child span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1))}.note[data-v-3b256859]:nth-child(2){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)))}.note:nth-child(2) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*-1))}.note[data-v-3b256859]:nth-child(3){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)))}.note:nth-child(3) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*-1))}.note[data-v-3b256859]:nth-child(4){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*2))}.note:nth-child(4) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*2*-1))}.note[data-v-3b256859]:nth-child(5){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*2))}.note:nth-child(5) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*2*-1))}.note[data-v-3b256859]:nth-child(6){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*3))}.note:nth-child(6) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*3*-1))}.note[data-v-3b256859]:nth-child(7){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*3))}.note:nth-child(7) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*3*-1))}.note[data-v-3b256859]:nth-child(8){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*4))}.note:nth-child(8) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*4*-1))}.note[data-v-3b256859]:nth-child(9){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*4))}.note:nth-child(9) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*4*-1))}.note[data-v-3b256859]:nth-child(10){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*5))}.note:nth-child(10) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*5*-1))}.note[data-v-3b256859]:nth-child(11){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*5))}.note:nth-child(11) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*5*-1))}.note[data-v-3b256859]:nth-child(12){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*6))}.note:nth-child(12) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*6*-1))}.note[data-v-3b256859]:nth-child(13){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*6))}.note:nth-child(13) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*6*-1))}.note[data-v-3b256859]:nth-child(14){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*7))}.note:nth-child(14) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*7*-1))}.note[data-v-3b256859]:nth-child(15){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*7))}.note:nth-child(15) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*7*-1))}.note[data-v-3b256859]:nth-child(16){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*8))}.note:nth-child(16) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*8*-1))}.note[data-v-3b256859]:nth-child(17){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*8))}.note:nth-child(17) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*8*-1))}.note[data-v-3b256859]:nth-child(18){transform:rotate(calc(var(--deg) + 1turn/var(--nbnotes)*9))}.note:nth-child(18) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 + 1turn/var(--nbnotes)*9*-1))}.note[data-v-3b256859]:nth-child(19){transform:rotate(calc(var(--deg) - 1turn/var(--nbnotes)*9))}.note:nth-child(19) span[data-v-3b256859]{transform:rotate(calc(var(--deg)*-1 - 1turn/var(--nbnotes)*9*-1))}",""]),t.exports=n}}]);