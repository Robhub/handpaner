(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{165:function(t,e,n){var content=n(190);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("2364b68a",content,!0,{sourceMap:!1})},166:function(t,e,n){var content=n(192);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("8bd49bc0",content,!0,{sourceMap:!1})},186:function(t,e,n){t.exports=n.p+"img/beb7987.png"},187:function(t,e,n){"use strict";var d=n(6),o=n(188)(5),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),d(d.P+d.F*l,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(81)("find")},188:function(t,e,n){var d=n(21),o=n(82),l=n(24),c=n(17),r=n(170);t.exports=function(t,e){var n=1==t,h=2==t,v=3==t,f=4==t,m=6==t,y=5==t||m,_=e||r;return function(e,r,x){for(var C,S,H=l(e),N=o(H),P=d(r,x,3),A=c(N.length),w=0,k=n?_(e,A):h?_(e,0):void 0;A>w;w++)if((y||w in N)&&(S=P(C=N[w],w,H),t))if(n)k[w]=S;else if(S)switch(t){case 3:return!0;case 5:return C;case 6:return w;case 2:k.push(C)}else if(f)return!1;return m?-1:v||f?f:k}}},189:function(t,e,n){"use strict";var d=n(165);n.n(d).a},190:function(t,e,n){(e=n(44)(!1)).push([t.i,".handpans[data-v-1550cad1]{display:flex;flex-wrap:wrap}[data-v-1550cad1] .handpan-shape{width:200px;height:200px;border-radius:200px}[data-v-1550cad1] .handpan-shape.is-bottom{margin-left:25px;width:150px;height:150px;border-radius:150px}[data-v-1550cad1] .ding{width:76px;height:76px;margin-left:-38px;margin-top:-38px}[data-v-1550cad1] .gu,[data-v-1550cad1] .note span{width:40px;height:40px;margin-left:-20px;margin-top:-20px}[data-v-1550cad1] .note{top:90px;padding-left:175px}[data-v-1550cad1] .is-bottom .note{top:65px;padding-left:125px}[data-v-1550cad1] .inside{width:24px;height:24px;border-radius:24px}[data-v-1550cad1] .ding .inside{width:32px;height:32px;border-radius:32px}",""]),t.exports=e},191:function(t,e,n){"use strict";var d=n(166);n.n(d).a},192:function(t,e,n){(e=n(44)(!1)).push([t.i,"#app[data-v-82fdc076]{position:relative}.chord-type[data-v-82fdc076],.panscales[data-v-82fdc076],.scales[data-v-82fdc076]{display:flex;flex-wrap:wrap;margin-top:4px}.chord-type-name[data-v-82fdc076]{min-width:28px;padding-right:8px;text-align:right}.chord[data-v-82fdc076],.panscale[data-v-82fdc076],.scale[data-v-82fdc076]{border:1px solid #333;border-radius:3px;padding:0 5px;cursor:pointer;min-width:32px;text-align:center;margin-left:4px}.panscale[data-v-82fdc076],.scale[data-v-82fdc076]{margin-top:4px}.chord.highlight[data-v-82fdc076],.panscale.highlight[data-v-82fdc076],.scale.highlight[data-v-82fdc076]{background:rgba(0,255,204,.50196)!important}.tabs[data-v-82fdc076]{display:flex;align-items:center}.tab[data-v-82fdc076]{position:relative;width:150px;padding:8px 0;font-weight:700;text-align:center;cursor:pointer;border-bottom:1px solid #666;margin-bottom:-1px}.tab.selected[data-v-82fdc076]{background:#fff;border:1px solid #666;border-bottom:none}.tab[data-v-82fdc076]:not(.selected):hover{color:#0cc}.tab-content[data-v-82fdc076]{background:#fff;border:1px solid #666;min-height:130px;padding:8px}.zone[data-v-82fdc076]{margin-top:16px}.delete[data-v-82fdc076]{position:absolute;right:2px;top:2px;cursor:pointer;padding:6px;margin-left:16px}.delete[data-v-82fdc076]:hover{color:red}.config[data-v-82fdc076]{position:absolute;right:0;top:0;display:none}.toggle[data-v-82fdc076]{font-size:32px}.play-options[data-v-82fdc076]{display:flex;justify-content:center}.play-options>*[data-v-82fdc076]{margin:0 8px}",""]),t.exports=e},193:function(t,e,n){"use strict";n.r(e);n(187),n(169),n(34),n(20),n(12),n(33),n(159);var d=n(167),o=(n(80),n(22),n(63),n(1)),l=n(79),c=n(158),r=n(160),h=n(171),v=o.a.extend({components:{HandpanDiagram:h.a},props:{handpans:Array,selectedChord:Object,selectedPanScale:Object,selectedScale:Object,samplesBank:Object}}),f=(n(189),n(14)),m=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"handpans"},t._l(t.handpans,(function(e){return n("HandpanDiagram",{key:e.id,attrs:{handpan:e,selectedChord:t.selectedChord,selectedPanScale:t.selectedPanScale,selectedScale:t.selectedScale}})})),1)}),[],!1,null,"1550cad1",null).exports,y=n(172),_=n(173),x=o.a.extend({components:{HandpanDiagrams:m,SelectVolume:y.a,SelectSamplesBank:_.a},data:function(){return{displayMode:"panScales",displayedHandpanIndex:0,handpans:[],inputAbsNotation:"",inputDing:"",inputDingOctave:3,inputPanscale:{},inputRelNotation:"",notes:[],abs:"",scales:l.h,notesAll:l.c,chords:{},selectedPanScale:{},selectedScale:{},selectedChord:{label:"",root:"",type:"",noteNames:[]},selectedChordNoteNames:[],displayedScales:[],displayedChords:[],displayedPanScales:[],ignoreNextHashChange:!1}},created:function(){var t=this;setTimeout((function(){if(t.$nuxt.$route.hash)t.loadHandpansFromHash();else{var e=new c.a;e.loadFromAbsNotation("D/ A C D E F G A C"),t.handpans.push(e),t.genScalesAndChords(e),t.panChanged()}}),1)},computed:{playPath:function(){return this.displayedHandpan?"play/#"+this.displayedHandpan.absNotationUser.replace(/ /g,"-"):"play/"},allPanScalesSorted:function(){return l.f.sort((function(a,b){return a.name.localeCompare(b.name)}))},displayedScalesSorted:function(){return this.displayedScales.sort((function(a,b){return b.totalNotes-a.totalNotes}))},displayedHandpan:function(){return this.handpans[this.displayedHandpanIndex]}},watch:{$route:function(){this.ignoreNextHashChange?this.ignoreNextHashChange=!1:(this.handpans=[],this.loadHandpansFromHash())}},methods:{loadHandpansFromHash:function(){var t,e=this;this.$nuxt.$route.hash.substr(1).split("_").forEach((function(n){(t=new c.a).loadFromAbsNotation(n.replace(/-/g," ")),e.handpans.push(t),e.panChanged()}))},removeHandpan:function(t,e){t.stopPropagation(),this.handpans.splice(e,1),this.displayedHandpanIndex>=this.handpans.length&&this.selectHandpan(this.handpans.length-1),this.genScalesAndChordsAllPans(),this.displayHandpan(),this.updateHash()},addHandpan:function(){var t=new c.a;t.loadFromAbsNotation("C/ C"),this.handpans.push(t),this.selectHandpan(this.handpans.length-1),this.genScalesAndChordsAllPans(),this.updateHash()},panScaleChanged:function(){this.inputRelNotation=this.inputPanscale.val,this.relChanged()},relChanged:function(){try{this.displayedHandpan.loadFromRelNotation(this.inputDing,this.inputRelNotation,this.inputDingOctave),this.panChanged(),this.updateHash()}catch(t){console.error("Cannot load handpan",t)}},absChanged:function(){try{this.displayedHandpan.loadFromAbsNotation(this.inputAbsNotation),this.panChanged(),this.updateHash()}catch(t){console.error("Cannot load handpan",t)}},updateHash:function(){var t=this.$nuxt.$route.hash,e="#"+this.handpans.map((function(t){return t.absNotationUser.replace(/ /g,"-")})).join("_");e!==t&&(this.ignoreNextHashChange=!0,this.$nuxt.$router.replace(e))},panChanged:function(){this.genScalesAndChords(this.displayedHandpan),this.displayHandpan(),this.genScalesAndChordsAllPans()},genScalesAndChordsAllPans:function(){var t=Object(d.a)(new Set(Array.from(this.handpans.flatMap((function(t){return t.getUniqueNotes()})))));this.displayedScales=Object(r.f)(this.handpans),this.displayedPanScales=Object(r.e)(this.handpans),this.displayedChords=Object(r.d)(t)},genScalesAndChords:function(t){},selectHandpan:function(t){this.displayedHandpanIndex=t,this.displayHandpan()},displayHandpan:function(){var t=this,e=l.f.find((function(e){return t.displayedHandpan.relNotation.trim()===e.val.trim()}));this.inputPanscale=e||null,this.inputDing=this.displayedHandpan.ding,this.inputRelNotation=this.displayedHandpan.relNotation,this.inputAbsNotation=this.displayedHandpan.absNotationUser},selectPanScale:function(t){this.selectedPanScale=t},unselectPanScale:function(){this.selectedPanScale={}},selectScale:function(t){this.selectedScale=t},unselectScale:function(){this.selectedScale={}},selectChord:function(t,e){this.selectedChord={label:e.label,root:e.root,type:t.type,noteNames:[].concat(Object(d.a)(e.notes.map((function(t){return Object(r.h)(e.root,t)}))),Object(d.a)(e.notes.map((function(t){return Object(r.g)(e.root,t)}))))}},unselectChord:function(){this.selectedChord={label:"",type:"",root:"",noteNames:[]}}}}),C=(n(191),Object(f.a)(x,(function(){var t=this,e=t.$createElement,d=t._self._c||e;return d("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),d("img",{attrs:{src:n(186)}}),t._v(" "),d("div",{staticClass:"tabs"},[t._l(t.handpans,(function(e,n){return d("div",{key:e.id,staticClass:"tab",class:{selected:t.displayedHandpanIndex===n},on:{click:function(e){return t.selectHandpan(n)}}},[t._v("\n            Pan n°"+t._s(n+1)+"\n            "),t.handpans.length>1?d("span",{staticClass:"delete",on:{click:function(e){return t.removeHandpan(e,n)}}},[t._v("×")]):t._e()])})),t._v(" "),d("div",{staticClass:"tab",on:{click:function(e){return t.addHandpan()}}},[t._v("+")])],2),t._v(" "),d("div",{staticClass:"tab-content"},[d("div",[d("h3",[t._v("Absolute input")]),t._v("\n            Notes\n            "),d("br"),t._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:t.inputAbsNotation,expression:"inputAbsNotation"}],attrs:{size:"40"},domProps:{value:t.inputAbsNotation},on:{keyup:t.absChanged,input:function(e){e.target.composing||(t.inputAbsNotation=e.target.value)}}})]),t._v(" "),d("div",[d("h3",[t._v("Relative input")]),t._v("\n            Ding\n            "),d("select",{directives:[{name:"model",rawName:"v-model",value:t.inputDing,expression:"inputDing"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputDing=e.target.multiple?n:n[0]},t.relChanged]}},t._l(t.notesAll,(function(e){return d("option",{key:e},[t._v(t._s(e))])})),0),t._v(" "),d("select",{directives:[{name:"model",rawName:"v-model",value:t.inputDingOctave,expression:"inputDingOctave"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputDingOctave=e.target.multiple?n:n[0]},t.relChanged]}},[d("option",[t._v("2")]),t._v(" "),d("option",[t._v("3")])]),t._v(" "),d("br"),t._v("Relative scale\n            "),d("input",{directives:[{name:"model",rawName:"v-model",value:t.inputRelNotation,expression:"inputRelNotation"}],attrs:{size:"40"},domProps:{value:t.inputRelNotation},on:{keyup:t.relChanged,input:function(e){e.target.composing||(t.inputRelNotation=e.target.value)}}}),t._v(" "),d("br"),t._v("Handpan scale\n            "),d("select",{directives:[{name:"model",rawName:"v-model",value:t.inputPanscale,expression:"inputPanscale"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputPanscale=e.target.multiple?n:n[0]},t.panScaleChanged]}},t._l(t.allPanScalesSorted,(function(e){return d("option",{key:e.name,domProps:{value:e}},[t._v(t._s(e.name))])})),0),t._v(" "),d("br"),d("nuxt-link",{attrs:{to:t.playPath}},[t._v("Play in full page")])],1)]),t._v(" "),t.displayedHandpan?d("div",[d("div",{staticClass:"zone"},[d("div",{staticClass:"tabs"},[d("div",{staticClass:"tab",class:{selected:"panScales"===t.displayMode},on:{click:function(e){t.displayMode="panScales"}}},[t._v("\n                    Models\n                ")]),t._v(" "),d("div",{staticClass:"tab",class:{selected:"scales"===t.displayMode},on:{click:function(e){t.displayMode="scales"}}},[t._v("Scales")]),t._v(" "),d("div",{staticClass:"tab",class:{selected:"chords"===t.displayMode},on:{click:function(e){t.displayMode="chords"}}},[t._v("Chords")]),t._v(" "),d("div",{staticClass:"tab",class:{selected:"songs"===t.displayMode},on:{click:function(e){t.displayMode="songs"}}},[t._v("Songs")])]),t._v(" "),"panScales"===t.displayMode?d("div",{staticClass:"tab-content"},[d("div",{staticClass:"panscales"},[t._l(t.displayedPanScales,(function(e){return d("div",{key:e.ding+e.name,staticClass:"panscale",class:{highlight:e.ding===t.selectedPanScale.ding&&e.name===t.selectedPanScale.name},on:{click:function(n){return t.selectPanScale(e)},mouseover:function(n){return t.selectPanScale(e)},mouseout:function(e){return t.unselectPanScale()}}},[t.handpans.length>1?d("span",[t._v(t._s(e.ding))]):t._e(),t._v(" "+t._s(e.name)+"\n                    ")])})),t._v(" "),t.displayedPanScales.length?t._e():d("div",[t._v("\n                        Nothing…\n                    ")])],2)]):t._e(),t._v(" "),"scales"===t.displayMode?d("div",{staticClass:"tab-content"},[d("div",{staticClass:"scales"},[t._l(t.displayedScalesSorted,(function(e){return d("div",{key:e.id,staticClass:"scale",class:{highlight:e.id===t.selectedScale.id},on:{click:function(n){return t.selectScale(e)},mouseover:function(n){return t.selectScale(e)},mouseout:function(e){return t.unselectScale()}}},[t._v("\n                        "+t._s(e.tonic)+" "+t._s(e.name)+"\n                    ")])})),t._v(" "),t.displayedScales.length?t._e():d("div",[t._v("\n                        Nothing…\n                    ")])],2)]):t._e(),t._v(" "),"chords"===t.displayMode?d("div",{staticClass:"tab-content"},t._l(t.displayedChords,(function(e){return d("div",{key:e.type,staticClass:"chord-type"},[d("div",{staticClass:"chord-type-name"},[t._v(t._s(e.type))]),t._v(" "),t._l(e.chords,(function(n){return d("div",{key:n.label,staticClass:"chord",class:{highlight:n.label===t.selectedChord.label},domProps:{innerHTML:t._s(n.label)},on:{click:function(d){return t.selectChord(e,n)},mouseover:function(d){return t.selectChord(e,n)},mouseout:function(e){return t.unselectChord()}}})}))],2)})),0):t._e(),t._v(" "),"songs"===t.displayMode?d("div",{staticClass:"tab-content"},[t._v("\n                Coming soon!\n            ")]):t._e()]),t._v(" "),d("div",{staticClass:"zone play-options"},[d("SelectVolume"),t._v(" "),d("SelectSamplesBank")],1),t._v(" "),d("div",{staticClass:"zone"},[d("HandpanDiagrams",{attrs:{handpans:t.handpans,selectedChord:t.selectedChord,selectedPanScale:t.selectedPanScale,selectedScale:t.selectedScale}})],1)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"config"},[e("div",{staticClass:"toggle"},[this._v("☰")])])}],!1,null,"82fdc076",null));e.default=C.exports}}]);